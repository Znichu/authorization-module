(this["webpackJsonpauthorization-module"]=this["webpackJsonpauthorization-module"]||[]).push([[0],{141:function(e,t,a){e.exports={forgotPage:"Forgot_forgotPage__3U_mg",error:"Forgot_error__8meu0",forgotForm:"Forgot_forgotForm__2zet8"}},142:function(e,t,a){e.exports={setNewPassPage:"SetNewPass_setNewPassPage__3F8kV",setNewPassPage__info:"SetNewPass_setNewPassPage__info__1F1Jc",setNewPassPage__form:"SetNewPass_setNewPassPage__form__39uo7"}},144:function(e,t,a){e.exports={wrapper:"Editor_wrapper__3u-j0",player:"Editor_player__1eeAz",textEditor:"Editor_textEditor__3XyIp",btnGroup:"Editor_btnGroup__16P0L"}},157:function(e,t,a){e.exports={signInPage:"SignIn_signInPage__3JPv-",signInPage__form:"SignIn_signInPage__form__18YQt"}},159:function(e,t,a){e.exports={registerPage:"Register_registerPage__34YVR",registerPage__form:"Register_registerPage__form__3WLvI"}},198:function(e,t,a){e.exports={example:"Preloader_example__2ruyn"}},201:function(e,t,a){e.exports={cardPackColumnParams:"Packs_cardPackColumnParams__3PVsF"}},202:function(e,t,a){e.exports={SwitchTable:"SwitchTable_SwitchTable__1IuVb"}},224:function(e,t,a){e.exports=a(386)},229:function(e,t,a){},230:function(e,t,a){},386:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),s=a.n(c),o=(a(229),a(230),a(231),a(92)),l=a(41),u=a(26);function i(){var e=Object(u.c)((function(e){return e.menu.selectedKey}));return n.a.createElement(o.a,{mode:"horizontal",selectedKeys:[e]},n.a.createElement(o.a.Item,{key:"profile"},n.a.createElement(l.c,{to:"/profile"},"Profile")),n.a.createElement(o.a.Item,{key:"sign-in"},n.a.createElement(l.c,{to:"/sign-in"},"Sign-in")),n.a.createElement(o.a.Item,{key:"packs"},n.a.createElement(l.c,{to:"/packs"},"Packs")),n.a.createElement(o.a.Item,{key:"editor"},n.a.createElement(l.c,{to:"/editor"},"Editor")))}var m=a(39),d=a(390),p=a(52),f=a(398),E=a(397),g=a(7),h=a.n(g),_=a(30),b=a(20),k=a(189),v=a(190),P=new(a(220).a),O=new(function(){function e(){Object(k.a)(this,e)}return Object(v.a)(e,[{key:"get",value:function(e){return P.get(e)}},{key:"set",value:function(e,t){P.set(e,t)}},{key:"remove",value:function(e){P.remove(e)}}]),e}()),y=a(64),w=a.n(y),C=w.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),S=function(e,t,a){return C.post("auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},j=function(e){return C.post("auth/me",{token:e}).then((function(e){return e.data}))},R={profile:{_id:null,email:null,name:null,avatar:null,publicCardPacksCount:null,isAdmin:null,verified:null},isAuth:!1},T=function(e,t){return{type:"USER_PROFILE/SET_PROFILE_DATA",payload:{profile:e,isAuth:t}}},N=function(e){return{type:"USER_PROFILE/SET_AUTH_VALUE",isAuth:e}},x=function(){return function(){var e=Object(_.a)(h.a.mark((function e(t){var a,r,n,c,s,o,l,u,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=O.get("auth_token"),e.next=4,j(a);case 4:r=e.sent,O.set("auth_token",r.token),n=r._id,c=r.email,s=r.isAdmin,o=r.name,l=r.verified,u=r.publicCardPacksCount,i=r.avatar,t(T({_id:n,email:c,isAdmin:s,name:o,verified:l,publicCardPacksCount:u,avatar:i},!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},A={selectedKey:" "},I=function(e){return{type:"CARDS/MENU/SET_SELECTED_KEY",key:e}},F=function(){var e=Object(f.a)({scriptUrl:"//at.alicdn.com/t/font_8d5l8fzk5b87iudi.js"}),t=Object(u.b)(),a=Object(r.useCallback)((function(){return t(N(!1))}),[t]);Object(r.useEffect)((function(){t(I("profile"))}),[t]);var c=Object(u.c)((function(e){return e.profile.profile})),s=c.email,o=c.name,l=(c.verified,c.publicCardPacksCount),i=c.avatar;return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("h3",null,"Profile")),n.a.createElement("div",null,i?n.a.createElement("img",{src:i||void 0,alt:"profile avatar"}):n.a.createElement(d.a,{size:64,style:{backgroundColor:"#87d068"},icon:n.a.createElement(E.a,null)})),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("h4",null,"Name"),n.a.createElement("span",null,o)),n.a.createElement("div",null,n.a.createElement("h4",null,"Card Pack"),n.a.createElement("span",null,l)),n.a.createElement("div",null,n.a.createElement("h4",null,"Email"),n.a.createElement("span",null,s))),n.a.createElement(p.a,{onClick:function(){return a(),void O.remove("auth_token")},type:"primary",icon:n.a.createElement(e,{type:"icon-tuichu"})},"Logout"))},G=a(27),U=a(65),L=a(391),M=a(393),D={_id:null,email:null,success:!1,isFetching:!1,errorMessage:""},z=function(e,t,a){return{type:"SIGNIN/SET_USER_DATA",payload:{_id:e,email:t,success:a}}},q=function(e){return{type:"SIGNIN/SET_MESSAGE_ERROR",errorMessage:e}},H=function(e){return{type:"SIGNIN/TOGGLE_IS_FETCHING",isFetching:e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN/SET_USER_DATA":return Object(b.a)({},e,{},t.payload);case"SIGNIN/TOGGLE_IS_FETCHING":return Object(b.a)({},e,{isFetching:t.isFetching});case"SIGNIN/SET_MESSAGE_ERROR":return Object(b.a)({},e,{errorMessage:t.errorMessage});default:return e}},K=a(157),W=a.n(K),B=a(43),J=B.b().shape({email:B.c().required().min(2),password:B.c().required().min(8)}),Y=B.b().shape({email:B.c().email().required().min(7),password:B.c().required().min(8),passwordConfirmation:B.c().required().label("Confirm password").test("passwordConfirmation","Passwords must match!",(function(e){return this.parent.password===e}))}),X=B.b().shape({email:B.c().email().required()}),Z=B.b().shape({password:B.c().required().min(8),passwordConfirmation:B.c().required().test("passwordConfirmation","Passwords must match!",(function(e){return this.parent.password===e}))}),Q=B.b().shape({name:B.c().max(50,"Require less or 50 letters"),path:B.c(),shots:B.a().min(0,"Require more or equal 0"),rating:B.a().min(0,"Require more or equal 0"),deckCover:B.c(),type:B.c()}),$=function(){var e=Object(u.b)(),t=Object(G.d)({resolver:Object(U.a)(J)}),a=t.register,c=t.handleSubmit,s=t.errors,o=t.control,i=t.reset,d=Object(u.c)((function(e){return e.profile.isAuth})),f=Object(u.c)((function(e){return e.singInReducer})),E=f.isFetching;f.errorMessage;return Object(r.useEffect)((function(){e(I("sign-in"))}),[e]),d?n.a.createElement(m.a,{to:"/profile"}):n.a.createElement("div",{className:W.a.signInPage},n.a.createElement("div",null,n.a.createElement("h3",null,"SignIn")),n.a.createElement("form",{onSubmit:c((function(t){var a=t.email,r=t.password,n=t.rememberMe;e(function(e,t,a){return function(){var r=Object(_.a)(h.a.mark((function r(n){var c;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(H(!0)),n(q("")),r.next=5,S(e,t,a);case 5:c=r.sent,O.set("auth_token",c.token),n(z(c._id,c.email,c.success)),n(x()),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),n(q(r.t0.response.data.error)),console.log(r.t0.message);case 15:n(H(!1));case 16:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(a,r,n))})),className:W.a.signInPage__form},n.a.createElement("div",null,n.a.createElement(G.a,{as:L.a,name:"email",control:o,placeholder:"Email"}),s.email&&n.a.createElement(M.a,{message:"Login is required",type:"error",showIcon:!0})),n.a.createElement("div",null,n.a.createElement(G.a,{as:L.a.Password,name:"password",control:o,placeholder:"Password"}),s.password&&n.a.createElement(M.a,{message:"Password is required",type:"error",showIcon:!0})),n.a.createElement(l.b,{to:"/forgot"},"Forgot your password?"),n.a.createElement("div",null,n.a.createElement("input",{type:"checkbox",name:"rememberMe",ref:a})," Remember me"),n.a.createElement(p.a,{onClick:function(){return i()},loading:E,htmlType:"submit",type:"primary"},"Sign In")),n.a.createElement("span",null,"or"),n.a.createElement(l.b,{to:"/register"},"Registration"))},ee=w.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),te=function(e,t){return ee.post("auth/register",{email:e,password:t}).then((function(e){return e.data}))},ae="authorization-module-project/registerReducer/SET_USER_DATA_SUCCESS",re={addedUser:{created:null,email:null,isAdmin:!1,name:null,publicCardPacksCount:null,rememberMe:!1,updated:null,verified:!1,__v:null,_id:null},success:!1},ne=function(e){return{type:ae,payload:Object(b.a)({},e)}},ce=a(159),se=a.n(ce),oe=function(){var e,t,a,c=Object(u.c)((function(e){return e.register.success})),s=Object(u.b)(),o=Object(G.d)({resolver:Object(U.a)(Y)}),i=o.handleSubmit,d=o.errors,f=o.control,E=o.reset,g=Object(r.useCallback)((function(e,t){return s(function(e,t){return function(){var a=Object(_.a)(h.a.mark((function a(r){var n;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,te(e,t);case 3:n=a.sent,r(ne(n)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(e,t))}),[s]);return c?n.a.createElement(m.a,{to:"/sign-in"}):n.a.createElement("div",{className:se.a.registerPage},n.a.createElement("div",null,n.a.createElement("h3",null,"Registration")),n.a.createElement("form",{onSubmit:i((function(e){g(e.email,e.password)})),className:se.a.registerPage__form},n.a.createElement(G.a,{as:L.a,name:"email",control:f,placeholder:"Email"}),n.a.createElement("p",null,null===(e=d.email)||void 0===e?void 0:e.message),n.a.createElement(G.a,{as:L.a.Password,name:"password",type:"password",control:f,placeholder:"Password"}),n.a.createElement("p",null,null===(t=d.password)||void 0===t?void 0:t.message),n.a.createElement(G.a,{as:L.a.Password,type:"password",name:"passwordConfirmation",control:f,placeholder:"Confirm password"}),n.a.createElement("p",null,null===(a=d.passwordConfirmation)||void 0===a?void 0:a.message),n.a.createElement(p.a,{onClick:function(){return E()},htmlType:"submit",type:"primary"},"Register")),n.a.createElement(l.b,{to:"/sign-in"},"Sign In"))},le=a(141),ue=a.n(le),ie=w.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"<a href='http://localhost:3000/authorization-module#/set-new-password'",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:">reset-password-link</a>";return ie.post("/auth/forgot",{email:e,html1:t,html2:a}).then((function(e){return e.data}))},de={success:!1,errorMessage:"",isFetching:!1},pe=function(e){return{type:"FORGOTPAGE/CHANGE_PASSWORD_SUCCESS",success:e}},fe=function(e){return{type:"FORGOTPAGE/CHANGE_PASSWORD_ERROR",errorMessage:e}},Ee=function(e){return{type:"FORGOTPAGE/TOGGLE_IS_FETCHING",isFetching:e}},ge=a(392);function he(){return n.a.createElement(ge.a,{status:"success",title:"Check your email",subTitle:"We've sent an email to ... . Click the link in the email to reset your password\r If you don't see the email, check other places it might be, like your junk, social, spam, or other folders."})}var _e=function(){var e,t=Object(G.d)({resolver:Object(U.a)(X)}),a=t.handleSubmit,c=t.errors,s=t.control,o=t.reset,i=Object(u.c)((function(e){return e.forgotPage})),m=i.errorMessage,d=i.isFetching,f=i.success,E=Object(u.b)(),g=Object(r.useCallback)((function(e){return E((t=e,function(){var e=Object(_.a)(h.a.mark((function e(a){var r,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(Ee(!0)),a(fe("")),e.next=5,me(t);case 5:r=e.sent,n=r.html.match(/(.*)set-new-password'(.*?)>(.*)/),c=n[2],O.set("resetPasswordToken",c),a(pe(r.success)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),a(fe(e.t0.response.data.error)),console.log(e.t0.message);case 16:a(Ee(!1));case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()));var t}),[E]);return console.log("Render Forgot"),f?n.a.createElement(he,null):n.a.createElement("div",{className:ue.a.forgotPage},m&&n.a.createElement(M.a,{message:m,type:"warning",showIcon:!0}),n.a.createElement("h3",null,"Forgot password?"),n.a.createElement("span",null,"Please enter ",n.a.createElement("b",null,"email")," that you used to sign in"),n.a.createElement("form",{className:ue.a.forgotForm,onSubmit:a((function(e){g(e.email)}))},n.a.createElement("div",{className:ue.a.error},c.email?n.a.createElement(M.a,{message:null===(e=c.email)||void 0===e?void 0:e.message,type:"error",showIcon:!0}):null),n.a.createElement(G.a,{as:L.a,name:"email",control:s,placeholder:"Email"}),n.a.createElement(p.a,{onClick:function(){return o()},loading:d,htmlType:"submit",type:"primary"},"Send email")),n.a.createElement(l.b,{to:"/sign-in"},"Sign In"))},be=a(142),ke=a.n(be),ve=w.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),Pe=function(e,t){return ve.post("/auth/set-new-password",{resetPasswordToken:e,password:t}).then((function(e){return e.data}))},Oe={success:!1,errorMessage:"",isFetching:!1},ye=function(e){return{type:"RESET/SET_NEW_PASS_SUCCESS",success:e}},we=function(e){return{type:"RESET/SET_NEW_PASS_ERROR",message:e}},Ce=function(e){return{type:"RESET/TOGGLE_IS_FETCHING",isFetching:e}},Se=function(){var e,t,a=Object(G.d)({resolver:Object(U.a)(Z)}),c=a.handleSubmit,s=a.errors,o=a.control,l=a.reset,i=Object(u.c)((function(e){return e.restPass})),d=i.success,f=i.isFetching,E=Object(u.b)(),g=Object(r.useCallback)((function(e){return E((t=e,function(){var e=Object(_.a)(h.a.mark((function e(a){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(Ce(!0)),r=O.get("resetPasswordToken"),e.next=5,Pe(r,t);case 5:n=e.sent,a(ye(n)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(we(e.t0.response.data.error)),console.log(e.t0.message);case 13:a(Ce(!1));case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));var t}),[E]);return d?n.a.createElement(m.a,{to:"/sign-in"}):n.a.createElement("div",{className:ke.a.setNewPassPage},n.a.createElement("div",{className:ke.a.setNewPassPage__info},n.a.createElement("h3",null,"Choose a New Password"),n.a.createElement("span",null,"Create a new password that is at least 8 characters long")),n.a.createElement("form",{onSubmit:c((function(e){g(e.password)})),className:ke.a.setNewPassPage__form},n.a.createElement(G.a,{as:L.a.Password,name:"password",type:"password",control:o,placeholder:"Password"}),n.a.createElement("p",null,null===(e=s.password)||void 0===e?void 0:e.message),n.a.createElement(G.a,{as:L.a.Password,type:"password",name:"passwordConfirmation",control:o,placeholder:"Confirm password"}),n.a.createElement("p",null,null===(t=s.passwordConfirmation)||void 0===t?void 0:t.message),n.a.createElement(p.a,{onClick:function(){return l()},loading:f,htmlType:"submit",type:"primary"},"Continue")))},je={initialize:!1},Re=function(){return{type:"APP/SET_INITIALIZE_APP"}},Te=a(199),Ne=a(198),xe=a.n(Ne);function Ae(){return n.a.createElement("div",{className:xe.a.example},n.a.createElement(Te.a,null))}var Ie=a(222),Fe=function(e){var t=e.Component,a=e.path,r=e.exact,c=Object(Ie.a)(e,["Component","path","exact"]),s=Object(u.c)((function(e){return e.profile.isAuth}));return n.a.createElement(m.b,{path:a,exact:r,render:function(){return s?n.a.createElement(t,c):n.a.createElement(m.a,{to:"/sign-in"})}})},Ge=a(36),Ue=w.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),Le=function(e){return Ue.get("cards/pack".concat(e)).then((function(e){return e.data}))},Me=function(e,t){return Ue.post("cards/pack",{cardsPack:Object(b.a)({},e),token:t}).then((function(e){return e.data}))},De=function(e,t){return Ue.put("cards/pack",{cardsPack:Object(b.a)({},e),token:t}).then((function(e){return e.data}))},ze=function(e,t){return Ue.delete("cards/pack?id=".concat(e,"&token=").concat(t)).then((function(e){return e.data}))},qe="packsReducer/IS_FETCHING",He="packsReducer/PACKS_TOGGLE",Ve={cardPacks:[],cardPacksTotalCount:0,page:1,pageCount:10,sortPacks:1,isFetching:!1,packsToggle:!1,errorMessage:""},Ke=function(e){return{type:"packsReducer/SET_CARD_PACKS",payload:Object(b.a)({},e)}},We=function(e){return{type:"packsReducer/SET_CARD_PACKS_ERROR",errorMessage:e}},Be=function(e){return{type:He,packsToggle:e}},Je=function(e){return{type:qe,isFetching:e}},Ye=function(e){return function(){var t=Object(_.a)(h.a.mark((function t(a){var r,n,c,s,o,l,u,i,m,d,p,f,E,g,_,b,k,v,P,y,w,C,S;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.packName,n=void 0===r?null:r,c=e.min,s=void 0===c?null:c,o=e.max,l=void 0===o?null:o,u=e.sortPacks,i=void 0===u?1:u,m=e.page,d=void 0===m?1:m,p=e.pageCount,f=void 0===p?10:p,E=e.user_id,g=void 0===E?null:E,t.next=3,O.get("auth_token");case 3:return _=t.sent,b=["?"],n&&b.push("packName=".concat(n)),s&&b.push("min=".concat(s)),l&&b.push("max=".concat(l)),(1===i||0===i)&&b.push("sortPacks=".concat(i,"grade")),d&&b.push("page=".concat(d)),f&&b.push("pageCount=".concat(f)),_&&b.push("token=".concat(_)),g&&b.push("user_id=".concat(g)),k=b.join("&").replace(/\?&/,"?"),t.next=16,a(Je(!0));case 16:return t.prev=16,t.next=19,Le(k);case 19:return v=t.sent,P=v.cardPacks,y=v.cardPacksTotalCount,w=v.page,C=v.pageCount,S=v.token,t.next=23,O.set("auth_token",S);case 23:return t.next=25,a(Ke({cardPacks:P,cardPacksTotalCount:y,page:w,pageCount:C,sortPacks:i}));case 25:return t.next=27,a(We(""));case 27:t.next=34;break;case 29:return t.prev=29,t.t0=t.catch(16),console.log(t.t0.response),t.next=34,a(We(t.t0.response.data.error));case 34:return t.next=36,a(Je(!1));case 36:case"end":return t.stop()}}),t,null,[[16,29]])})));return function(e){return t.apply(this,arguments)}}()},Xe=a(387),Ze=a(388),Qe=a(201),$e=a.n(Qe),et=a(53),tt=a(389),at=Object(r.memo)((function(e){var t=e.modalTitle,a=e.button,n=Object(r.useState)(!1),c=Object(et.a)(n,2),s=c[0],o=c[1],l=function(){return o(!s)};return r.createElement(r.Fragment,null,r.createElement(p.a,Object.assign({},a.params,{onClick:l}),a.name),r.createElement(tt.a,{visible:s,title:t,onCancel:l,footer:!1},e.children))})),rt=a(139),nt=a(116),ct=a(46),st=a.n(ct),ot=Object(r.memo)((function(e){var t=e.sortPacks,a=e.pagination,n=a.current,c=a.pageSize,s=e.cardPackData,o=e.actionName,l=e.user_id,i=Object(u.b)(),m=Object(r.useCallback)((function(e){var a=s?s._id:null;i(function(e,t,a,r){return function(){var n=Object(_.a)(h.a.mark((function n(c){var s,o,l;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.get("auth_token");case 2:return s=n.sent,n.next=5,c(Je(!0));case 5:if(n.prev=5,"Create"!==r){n.next=14;break}return n.next=9,Me(t,s);case 9:return o=n.sent,n.next=12,O.set("auth_token",o.token);case 12:n.next=23;break;case 14:if("Update"!==r){n.next=22;break}return n.next=17,De(Object(b.a)({_id:a},t),s);case 17:return l=n.sent,n.next=20,O.set("auth_token",l.token);case 20:n.next=23;break;case 22:console.log("addUpdatePackThunk Error!");case 23:return n.next=25,c(Ye(e));case 25:n.next=30;break;case 27:n.prev=27,n.t0=n.catch(5),console.log(n.t0.response);case 30:return n.next=32,c(Je(!1));case 32:case"end":return n.stop()}}),n,null,[[5,27]])})));return function(e){return n.apply(this,arguments)}}()}({page:n,pageCount:c,sortPacks:t,user_id:l},e,a,o))}),[i,n,c,t,l]),d=Object(G.d)({resolver:Object(U.a)(Q)}),f=d.handleSubmit,E=d.errors,g=d.control;return r.createElement("div",null,r.createElement("form",{onSubmit:f((function(e){m(e)})),className:st.a.AddPackForm},r.createElement(G.a,{as:r.createElement(L.a,{addonBefore:"Name:",className:st.a.packParam}),name:"name",control:g,placeholder:"default = no Name",defaultValue:s&&s.name}),E.name&&r.createElement(M.a,{type:"warning",message:E.name.message,className:st.a.errAlert}),r.createElement(G.a,{as:r.createElement(L.a,{addonBefore:"Path:",className:st.a.packParam}),name:"path",control:g,placeholder:"default = /def",defaultValue:s&&s.path}),E.path&&r.createElement(M.a,{type:"warning",message:E.path.message,className:st.a.errAlert}),r.createElement(G.a,{name:"grade",control:g,render:function(e){return r.createElement("div",{className:"".concat(st.a.gradeGroup," ").concat(st.a.packParam)},r.createElement("div",null,"Grade:"),r.createElement(rt.a.Group,{name:"gradeGroup",defaultValue:s?s.grade:0,onChange:function(t){return e.onChange(t.target.value)}},r.createElement(rt.a,{value:0},"0"),r.createElement(rt.a,{value:1},"1"),r.createElement(rt.a,{value:2},"2"),r.createElement(rt.a,{value:3},"3"),r.createElement(rt.a,{value:4},"4"),r.createElement(rt.a,{value:5},"5")))}}),E.grade&&r.createElement(M.a,{type:"warning",message:E.grade.message,className:st.a.errAlert}),r.createElement(G.a,{as:r.createElement(L.a,{addonBefore:"Shots:",className:st.a.packParam}),name:"shots",control:g,placeholder:"default = 0",defaultValue:s&&s.shots}),E.shots&&r.createElement(M.a,{type:"warning",message:E.shots.message,className:st.a.errAlert}),r.createElement(G.a,{as:r.createElement(L.a,{addonBefore:"DeckCover:",className:st.a.packParam}),name:"deckCover",control:g,placeholder:"default = url or base64"}),E.deckCover&&r.createElement(M.a,{type:"warning",message:E.deckCover.message,className:st.a.errAlert}),r.createElement(G.a,{name:"private",control:g,render:function(e){return r.createElement(nt.a,{onChange:function(t){return e.onChange(t.target.checked)},defaultChecked:s&&s.private,className:st.a.packParam},"Private")}}),r.createElement(G.a,{as:r.createElement(L.a,{addonBefore:"Type:",className:st.a.packParam}),name:"type",control:g,placeholder:"default = pack",defaultValue:s&&s.type}),E.type&&r.createElement(M.a,{type:"warning",message:E.type.message,className:st.a.errAlert}),r.createElement(p.a,{htmlType:"submit",type:"primary",className:st.a.Create},o)))})),lt=a(399),ut=a(202),it=a.n(ut),mt=Object(r.memo)((function(e){return n.a.createElement("div",{className:it.a.SwitchTable},n.a.createElement(lt.a,{checkedChildren:"My Packs",unCheckedChildren:"All Packs",onClick:e.switchPacksHandler,checked:e.packsToogle}))})),dt=Object(r.memo)((function(){var e=Object(u.b)();Object(r.useEffect)((function(){e(I("packs"))}),[]);var t=Object(u.c)((function(e){return e})),a=t.packs,c=a.cardPacks,s=a.cardPacksTotalCount,o=a.page,i=a.pageCount,m=a.sortPacks,d=a.isFetching,f=a.packsToggle,E=t.profile.profile._id,g=f&&E?E:"",b={current:o,pageSize:i,total:s,position:["bottomCenter"]};Object(r.useEffect)((function(){e(Ye({}))}),[]);var k=Object(r.useCallback)((function(t,a){e(Ye({page:o,pageCount:i,sortPacks:m,user_id:t})),e(Be(a))}),[e,f]),v=Object(r.useCallback)((function(){f?k("",!1):k(E,!0)}),[f]),P=Object(r.useCallback)((function(t,a,r){var n=function(){if(r.length>=2){var e=r.filter((function(e){return"grade"===e.field}));return e[0].order=e}return"grade"===r.field?r.order:null},c=n()?"ascend"===n()?1:0:1,s=t.current,o=t.pageSize;e(Ye({page:s,pageCount:o,sortPacks:c,user_id:g}))}),[e,f]),y=Object(r.useCallback)((function(t,a,r){var n,c,s=t.current,o=t.pageSize;e((n={page:s,pageCount:o,sortPacks:a,user_id:g},c=r,function(){var e=Object(_.a)(h.a.mark((function e(t){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("auth_token");case 2:return a=e.sent,e.next=5,t(Je(!0));case 5:return e.prev=5,e.next=8,ze(c,a);case 8:return r=e.sent,e.next=11,O.set("auth_token",r.token);case 11:return e.next=13,t(Ye(n));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0.response);case 18:return e.next=20,t(Je(!1));case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,f]),w=c.map((function(e,t){return{key:"".concat(e._id,"_").concat(t),name:e.name,grade:e.grade,userId:e.user_id,cardPackId:e._id}})),C=[{key:"name",title:"Name",dataIndex:"name",sorter:{compare:function(e,t){return e.name.localeCompare(t.name)},multiple:1}},{key:"grade",title:"Grade",dataIndex:"grade",sorter:{compare:function(e,t){return e.grade-t.grade},multiple:2}},{key:"add",title:n.a.createElement(at,{modalTitle:"Create a new cards pack",button:{name:"Add",params:{type:"primary",ghost:!0}}},n.a.createElement(ot,{sortPacks:m,pagination:b,user_id:g,actionName:"Create"})),render:function(e){return n.a.createElement(Xe.a,{size:"middle",className:$e.a.cardPackColumnParams},n.a.createElement(p.a,{type:"primary",danger:!0,onClick:function(){return y(b,m,e.cardPackId)},disabled:E!==e.userId},"delete"),n.a.createElement(at,{modalTitle:"Update a cards pack",button:{name:"update",params:{type:"primary",disabled:E!==e.userId}}},n.a.createElement(ot,{sortPacks:m,pagination:b,actionName:"Update",user_id:g,cardPackData:c.filter((function(t){return t._id===e.cardPackId}))[0]})),n.a.createElement(l.b,{to:"/pack/".concat(e.cardPackId)},"Cards"),n.a.createElement(l.b,{to:"/pack"},"Learn"))}}];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:""},n.a.createElement(mt,{packsToggle:f,switchPacksHandler:function(){return v()}}),n.a.createElement(Ze.a,{dataSource:w,columns:C,pagination:b,loading:d,onChange:P})),"}")})),pt=a(144),ft=a.n(pt),Et=a(130),gt=a(396),ht=a(395),_t=a(394),bt=function(){var e=Object(r.useState)(""),t=Object(et.a)(e,2),a=t[0],c=t[1],s=Object(u.b)();Object(r.useEffect)((function(){s(I("editor"))}),[s]);return n.a.createElement("div",{className:ft.a.wrapper},n.a.createElement("div",{className:ft.a.textEditor},n.a.createElement(Et.a,{value:a,autoSize:{minRows:3,maxRows:5},onChange:function(e){var t=e.target.value;c(t)}}),n.a.createElement("div",{className:ft.a.btnGroup},n.a.createElement(p.a,{onClick:function(){return function(e,t){var a=document.createElement("a"),r=new Blob([t],{type:"text/plain"});a.href=URL.createObjectURL(r),a.download=e,a.click(),URL.revokeObjectURL(a.href),c("")}("Text.txt",a)},type:"primary",icon:n.a.createElement(gt.a,null)},"Save"),n.a.createElement(p.a,{type:"primary",icon:n.a.createElement(ht.a,null)},"Send"),n.a.createElement(p.a,{type:"primary",icon:n.a.createElement(_t.a,null)},"Download"))),n.a.createElement(L.a,{type:"color"}))};var kt=function(){var e=Object(u.b)();return Object(r.useEffect)((function(){e(function(){var e=Object(_.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(x());case 3:a=e.sent,Promise.all([a]).then((function(){return t(Re())})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(u.c)((function(e){return e.initializeApp.initialize}))?n.a.createElement("div",{className:"main"},n.a.createElement(i,null),n.a.createElement(m.d,null,n.a.createElement(m.b,{path:"/",exact:!0,render:function(){return n.a.createElement(m.a,{to:"/profile"})}}),n.a.createElement(Fe,{path:"/profile",exact:!0,Component:F}),n.a.createElement(Fe,{path:"/packs",exact:!0,Component:dt}),n.a.createElement(Fe,{path:"/editor",exact:!0,Component:bt}),n.a.createElement(m.b,{path:"/sign-in",exact:!0,render:function(){return n.a.createElement($,null)}}),n.a.createElement(m.b,{path:"/register",exact:!0,render:function(){return n.a.createElement(oe,null)}}),n.a.createElement(m.b,{path:"/forgot",exact:!0,render:function(){return n.a.createElement(_e,null)}}),n.a.createElement(m.b,{path:"/set-new-password",exact:!0,render:function(){return n.a.createElement(Se,null)}}))):n.a.createElement(Ae,null)},vt=a(105),Pt=a(215),Ot=Object(vt.c)({forgotPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOTPAGE/CHANGE_PASSWORD_SUCCESS":return Object(b.a)({},e,{success:t.success});case"FORGOTPAGE/CHANGE_PASSWORD_ERROR":return Object(b.a)({},e,{errorMessage:t.errorMessage});case"FORGOTPAGE/TOGGLE_IS_FETCHING":return Object(b.a)({},e,{isFetching:t.isFetching});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(b.a)({},e,{addedUser:Object(b.a)({},t.payload.addedUser),success:t.payload.success});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_PROFILE/SET_PROFILE_DATA":return Object(b.a)({},e,{},t.payload);case"USER_PROFILE/SET_AUTH_VALUE":return Object(b.a)({},e,{isAuth:t.isAuth});default:return e}},initializeApp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_INITIALIZE_APP":return Object(b.a)({},e,{initialize:!0});default:return e}},restPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET/SET_NEW_PASS_SUCCESS":return Object(b.a)({},e,{success:t.success});case"RESET/SET_NEW_PASS_ERROR":return Object(b.a)({},e,{errorMessage:t.message});case"RESET/TOGGLE_IS_FETCHING":return Object(b.a)({},e,{isFetching:t.isFetching});default:return e}},singInReducer:V,menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/MENU/SET_SELECTED_KEY":return Object(b.a)({},e,{selectedKey:t.key});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"packsReducer/SET_CARD_PACKS":return Object(b.a)({},e,{},t.payload,{cardPacks:Object(Ge.a)(t.payload.cardPacks)});case"packsReducer/SET_CARD_PACKS_ERROR":return Object(b.a)({},e,{errorMessage:t.errorMessage});case qe:return Object(b.a)({},e,{isFetching:t.isFetching});case He:return Object(b.a)({},e,{packsToggle:t.packsToggle});default:return e}}}),yt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,wt=Object(vt.d)(Ot,yt(Object(vt.a)(Pt.a)));s.a.render(n.a.createElement(l.a,null,n.a.createElement(u.a,{store:wt},n.a.createElement(kt,null))),document.getElementById("root"))},46:function(e,t,a){e.exports={AddPackForm:"AddUpdateForm_AddPackForm__2cV_C",packParam:"AddUpdateForm_packParam__1a7m8",errAlert:"AddUpdateForm_errAlert__1Ckcv",gradeGroup:"AddUpdateForm_gradeGroup__gedW4",Create:"AddUpdateForm_Create__1n0_5"}}},[[224,1,2]]]);
//# sourceMappingURL=main.41b54fbe.chunk.js.map